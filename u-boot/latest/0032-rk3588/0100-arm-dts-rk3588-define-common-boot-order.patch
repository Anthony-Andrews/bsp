From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: ZHANG Yuntian <95260730+RadxaYuntian@users.noreply.github.com>
Date: Mon, 17 Apr 2023 18:28:50 +0800
Subject: [PATCH] arm: dts: rk3588: define common boot order

---
 arch/arm/dts/rk3588-rock-5b-u-boot.dtsi | 17 -----------------
 arch/arm/dts/rk3588s-u-boot.dtsi        | 19 +++++++++++++++++++
 2 files changed, 19 insertions(+), 17 deletions(-)

diff --git a/arch/arm/dts/rk3588-rock-5b-u-boot.dtsi b/arch/arm/dts/rk3588-rock-5b-u-boot.dtsi
index 36d557b493..57da3f73a0 100644
--- a/arch/arm/dts/rk3588-rock-5b-u-boot.dtsi
+++ b/arch/arm/dts/rk3588-rock-5b-u-boot.dtsi
@@ -4,20 +4,3 @@
  */
 
 #include "rk3588-u-boot.dtsi"
-
-/ {
-	aliases {
-		mmc0 = &sdmmc;
-	};
-
-	chosen {
-		u-boot,spl-boot-order = "same-as-spl", &sdmmc;
-	};
-};
-
-&sdmmc {
-	bus-width = <4>;
-	u-boot,dm-spl;
-	u-boot,spl-fifo-mode;
-	status = "okay";
-};
diff --git a/arch/arm/dts/rk3588s-u-boot.dtsi b/arch/arm/dts/rk3588s-u-boot.dtsi
index f880f4a167..b6429aaf63 100644
--- a/arch/arm/dts/rk3588s-u-boot.dtsi
+++ b/arch/arm/dts/rk3588s-u-boot.dtsi
@@ -6,6 +6,15 @@
 #include "rockchip-u-boot.dtsi"
 
 / {
+	aliases {
+		mmc0 = &sdhci;
+		mmc1 = &sdmmc;
+	};
+
+	chosen {
+		u-boot,spl-boot-order = "same-as-spl", &sdmmc, &sdhci;
+	};
+
 	dmc {
 		compatible = "rockchip,rk3588-dmc";
 		u-boot,dm-pre-reloc;
@@ -69,3 +78,15 @@
 &ioc {
 	u-boot,dm-spl;
 };
+
+&sdhci {
+	u-boot,dm-spl;
+	status = "okay";
+};
+
+&sdmmc {
+	bus-width = <4>;
+	u-boot,dm-spl;
+	u-boot,spl-fifo-mode;
+	status = "okay";
+};
-- 
2.40.0
